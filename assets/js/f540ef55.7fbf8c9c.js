"use strict";(self.webpackChunkblksail_edu_github_io=self.webpackChunkblksail_edu_github_io||[]).push([[4663],{3736:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var s=t(4848),o=t(8453);const i={slidebar_position:3},r="Using Own ROS2 Interface",c={id:"module/custom_ros_interface",title:"Using Own ROS2 Interface",description:"Introduction",source:"@site/versioned_docs/version-2024/2-module/30_custom_ros_interface.mdx",sourceDirName:"2-module",slug:"/module/custom_ros_interface",permalink:"/docs/2024/module/custom_ros_interface",draft:!1,unlisted:!1,editUrl:"https://github.com/blksail-edu/blksail-edu.github.io/tree/main/versioned_docs/version-2024/2-module/30_custom_ros_interface.mdx",tags:[],version:"2024",sidebarPosition:30,frontMatter:{slidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"ROS2 Terminal Commands",permalink:"/docs/2024/module/ros2_terminal_commands"},next:{title:"Module 3 - Control",permalink:"/docs/2024/category/module-3---control"}},a={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Testing the Interface",id:"testing-the-interface",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"using-own-ros2-interface",children:"Using Own ROS2 Interface"}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:["In the previous section, we learned how to use ROS2's ",(0,s.jsx)(n.code,{children:"mavros"})," interfaces to communicate with the system.\nHowever, sometimes, we may need to create our own interfaces to communicate with the system.\nThis section will guide you through creating your own ROS2 interface by analyzing a custom ",(0,s.jsx)(n.code,{children:"rosmav"})," interface."]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.p,{children:["First, let's clone the ",(0,s.jsx)(n.a,{href:"https://github.com/blksail-edu/rosmav",children:(0,s.jsx)(n.code,{children:"rosmav"})})," repository and install the necessary dependencies."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-zsh",children:"cd ~/auvc_ws/src\ngit clone https://github.com/blksail-edu/rosmav\ncd ~/auvc_ws\nrosdep install --from-paths src --ignore-src -r -y\ncolcon build --packages-select rosmav --symlink-install\nsource ~/auvc_ws/install/setup.zsh\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["If there are updates in the ",(0,s.jsx)(n.code,{children:"rosmav"})," repository, you can update the repository by running the following command:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-zsh",children:"cd ~/auvc_ws/src/rosmav\ngit pull\n"})})]}),"\n",(0,s.jsx)(n.h2,{id:"testing-the-interface",children:"Testing the Interface"}),"\n",(0,s.jsxs)(n.p,{children:["After building the ",(0,s.jsx)(n.code,{children:"rosmav"})," package, we can test the interface by running the following command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-zsh",children:"ros2 run rosmav ros_bluerov2_interface\n"})}),"\n",(0,s.jsx)(n.p,{children:"If the command runs successfully, you should see the following output:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[INFO] [1721669754.194733875] [ros_bluerov2_interface]: Heartbeat from system 1, component 0\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"The output may vary depending on the system ID and component ID.\nNothing will be displayed if the system is not connected (to the real robot or simulator)."})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var s=t(6540);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);